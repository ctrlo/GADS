"use strict";(self.webpackChunklinkspace=self.webpackChunklinkspace||[]).push([[258],{38258:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var o=n(17527),s=(n(86888),n(11977)),a=n(74692);class i extends o.uA{constructor(e){super(e),this.initSummerNote()}initSummerNote(){const e=this;a(this.element).summernote({toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["codeview","help"]]],dialogsInBody:!0,height:400,callbacks:{onInit:function(){const e=a(this).siblings("input[type=hidden].summernote_content");a(this).summernote("code",e.val())},onImageUpload:function(t){for(var n=0;n<t.length;n++)e.handleHtmlEditorFileUpload(t[n],this)},onChange:function(e){const t=a(this).closest(".summernote");t.summernote("isEmpty")&&(e=""),t.siblings("input[type=hidden].summernote_content").val(e)}}})}handleHtmlEditorFileUpload(e,t){if(e.type.includes("image")){const n=new FormData;n.append("file",e),n.append("csrf_token",a("body").data("csrf")),a.ajax({url:"/file?ajax&is_independent",type:"POST",contentType:!1,cache:!1,processData:!1,dataType:"JSON",data:n,success:function(e){e.is_ok?a(t).summernote("editor.insertImage",e.url):s.m.error(e.error)}}).fail((function(e){s.m.error(e)}))}else s.m.error("The type of file uploaded was not an image")}}const r=i}}]);