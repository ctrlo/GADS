"use strict";(self.webpackChunklinkspace=self.webpackChunklinkspace||[]).push([[181,202],{34789:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});r(52675),r(89463),r(2259),r(45700),r(23792),r(62062),r(89572),r(62010),r(2892),r(26099),r(47764),r(62953),r(23500);var n=function(e){var t=[],r=0;return e.records.forEach((function(e){e instanceof Object?t.push({name:e.label,id:e.id}):t.push({name:e,id:r++})})),t};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var l=a((function e(t,r,n,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.ajaxSource=r,this.mapper=n,this.appendQuery=i,this.data=o,this.dataBuilder=a})),c=(r(27495),r(90906),r(67751),r(6016)),s=r.n(c);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var d=function(){return e=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$input=t,this.callback=r,this.sourceOptions=n,this.init()},(t=[{key:"init",value:function(){var e=this,t=this.sourceOptions,r=t.appendQuery,n=t.mapper,i=t.name,o=t.ajaxSource,a=new(s())({datumTokenizer:s().tokenizers.whitespace,queryTokenizer:s().tokenizers.whitespace,remote:{url:o+(r?"%QUERY":""),wildcard:"%QUERY",transform:function(e){return n(e)},rateLimitBy:"debounce",rateLimitWait:300,cache:!1}});this.$input.typeahead({hint:!1,highlight:!1,minLength:1},{name:i,source:a,display:"name",limit:20,templates:{suggestion:function(e){return"<div>".concat(e.name,"</div>")},pending:function(){return"<div>Loading...</div>"},notFound:function(){return"<div>No results found</div>"}}}),this.$input.on("typeahead:select",(function(t,r){e.callback(r)})),window.test&&(this.$input.on("typeahead:asyncrequest",(function(){console.log("Typeahead async request")})),this.$input.on("typeahead:asyncreceive",(function(){console.log("Typeahead async receive")})),this.$input.on("typeahead:asynccancel",(function(){console.log("Typeahead async cancel")})))}}])&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}const m=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mapper=function(e){return e.map((function(e){return{name:e.name,id:e.id}}))},this.appendQuery=!1,this.data=void 0},t=[{key:"withInput",value:function(e){return this.$input=e,this}},{key:"withCallback",value:function(e){return this.callback=e,this}},{key:"withName",value:function(e){return this.name=e,this}},{key:"withAjaxSource",value:function(e){return this.ajaxSource=e,this}},{key:"withAppendQuery",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.appendQuery=e,this}},{key:"withData",value:function(e){return this.dataBuilder=void 0,this.data=e,this}},{key:"withMapper",value:function(e){return this.mapper=e,this}},{key:"withDefaultMapper",value:function(){return this.mapper=n,this}},{key:"withDataBuilder",value:function(e){return this.data=void 0,this.dataBuilder=e,this}},{key:"build",value:function(){if(!this.$input)throw new Error("Input not set");if(!this.callback)throw new Error("Callback not set");if(!this.name)throw new Error("Name not set");if(!this.ajaxSource)throw new Error("Ajax source not set");var e=new l(this.name,this.ajaxSource,this.mapper,this.appendQuery,this.data,this.dataBuilder);return new d(this.$input,this.callback,e)}}],t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}()},96059:(e,t,r)=>{r.d(t,{T:()=>i});r(50113),r(74423),r(26099);var n=r(74692),i=function(e){var t=[],r=[];e.on("afterCreateRuleFilters.queryBuilder",(function(e,r){var i=n(r.$el.find("select[name=".concat(r.id,"_filter]")));t.includes(i[0])||t.push(i[0]),i&&i[0]?(i.data("live-search","true"),i.selectpicker()):console.error("No select found")})),e.on("afterCreateRuleOperators.queryBuilder",(function(e,t,i){var o=n(t.$el.find("select[name=".concat(t.id,"_operator]")));o&&o[0]?(r.includes(o[0])||r.push(o[0]),o.data("live-search")||(o.data("live-search","true"),o.selectpicker())):console.error("No operator select found")})),e.on("afterSetRules.queryBuilder",(function(){for(var e=0,i=t;e<i.length;e++){var o=i[e];o&&n(o).selectpicker("refresh")}for(var a=0,u=r;a<u.length;a++){var l=u[a];l&&n(l).selectpicker("refresh")}})),e.on("afterSetRuleOperator.queryBuilder",(function(){for(var e=0,t=r;e<t.length;e++){var i=t[e];i&&n(i).selectpicker("refresh")}}))}},63768:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});r(52675),r(89463),r(2259),r(45700),r(28706),r(2008),r(50113),r(74423),r(23792),r(62062),r(89572),r(62010),r(33110),r(2892),r(83851),r(81278),r(40875),r(79432),r(26099),r(60825),r(47764),r(23500),r(62953);var n=r(17527),i=(r(63035),r(14536),r(11977)),o=r(34789),a=r(96059),u=r(74692);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function p(e,t,r){return t=y(t),function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}const v=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(r=p(this,t,[e]),"buildFilter",(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:t.filterId,label:t.label,type:"string",operators:r.buildFilterOperators(t.type)},"rag"===t.type?r.ragProperties:t.hasFilterTypeahead?r.typeaheadProperties(t.urlSuffix,e.layoutId,t.instanceId,t.useIdInFilter):{})})),h(r,"typeaheadProperties",(function(){return{input:function(e,t){return"<div class='tt__container'>\n          <input class='form-control typeahead_text' type='text' name='".concat(t,"_text'/>\n          <input class='form-control typeahead_hidden' type='hidden' name='").concat(t,"'/>\n        </div>")},valueSetter:function(e,t){e.$el.find(".typeahead_hidden").val(t);var r=e.$el.find(".typeahead_text");r.typeahead("val",e.data.text),r.val(e.data.text)},validation:{callback:function(){return!0}}}})),h(r,"getRecords",(function(e,t,n,i){return u.ajax({type:"GET",url:r.getURL(e,t),data:{q:i,oi:n},dataType:"json",path:"records"})})),r.el=u(r.element),r.operators=[{type:"equal",accept_values:!0,apply_to:["string","number","datetime"]},{type:"not_equal",accept_values:!0,apply_to:["string","number","datetime"]},{type:"less",accept_values:!0,apply_to:["string","number","datetime"]},{type:"less_or_equal",accept_values:!0,apply_to:["string","number","datetime"]},{type:"greater",accept_values:!0,apply_to:["string","number","datetime"]},{type:"greater_or_equal",accept_values:!0,apply_to:["string","number","datetime"]},{type:"contains",accept_values:!0,apply_to:["datetime","string"]},{type:"not_contains",accept_values:!0,apply_to:["datetime","string"]},{type:"begins_with",accept_values:!0,apply_to:["string"]},{type:"not_begins_with",accept_values:!0,apply_to:["string"]},{type:"is_empty",accept_values:!1,apply_to:["string","number","datetime"]},{type:"is_not_empty",accept_values:!1,apply_to:["string","number","datetime"]},{type:"changed_after",nb_inputs:1,accept_values:!0,multiple:!1,apply_to:["string","number","datetime"]}],r.ragProperties={input:"select",values:{b_red:"Red",c_amber:"Amber",c_yellow:"Yellow",d_green:"Green",a_grey:"Grey",e_purple:"Purple",d_blue:"Blue",b_attention:"Red (Attention)"}},r.initFilter(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),r=t,(n=[{key:"initFilter",value:function(){var e=this,t=this,r=this.el,n=u(this.el).data("builder-id"),l=u("#builder_json_".concat(n));if(l.length){var c=JSON.parse(l.html()),s=r.data("filter-base");if(c.filters.length&&(c.filterNotDone&&this.makeUpdateFilter(),(0,a.T)(this.el),r.queryBuilder({showPreviousValues:c.showPreviousValues,filters:c.filters.map((function(t){return e.buildFilter(c,t)})),allow_empty:!0,operators:this.operators,lang:{operators:{changed_after:"changed on or after"}}}),r.on("validationError.queryBuilder",(function(e,t,r,n){i.m.log(r),i.m.log(n),i.m.log(e),i.m.log(t)})),r.on("afterCreateRuleInput.queryBuilder",(function(e,r){var n;if(c.filters.forEach((function(e){if(e.filterId===r.filter.id)return n=e,!1})),n&&"rag"!==n.type&&n.hasFilterTypeahead){var i=u("#".concat(r.id," .rule-value-container input[type='text']")),a=u("#".concat(r.id," .rule-value-container input[type='hidden']"));i.attr("autocomplete","off"),i.on("keyup",(function(){a.val(i.val())})),(new o.default).withInput(i).withAjaxSource(t.getURL(c.layoutId,n.urlSuffix)).withDataBuilder((function(){return{q:i.val(),oi:n.instanceId}})).withDefaultMapper().withName("rule").withAppendQuery().withCallback((function(e){n.useIdInFilter?a.val(e.id):a.val(e.name)})).build()}})),s)){var p=atob(s,"base64");try{var f=JSON.parse(p);f.rules&&f.rules.length?r.queryBuilder("setRules",f):r.queryBuilder("setRules",{rules:[]})}catch(e){i.m.log("Incorrect data object passed to queryBuilder")}}}}},{key:"getURL",value:function(e,t){var r=window.siteConfig&&window.siteConfig.urls.filterApi;return r||"/".concat(e,"/match/layout/").concat(t,"?q=")}},{key:"makeUpdateFilter",value:function(){window.UpdateFilter=function(e,t){e.queryBuilder("validate")||t.preventDefault();var r=e.queryBuilder("getRules");u("#filter").val(JSON.stringify(r,null,2))}}},{key:"buildFilterOperators",value:function(e){if(["date","daterange"].includes(e)){var t=["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_empty","is_not_empty"];return"daterange"===e&&t.push("contain"),t}}}])&&s(r.prototype,n),l&&s(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,l}(n.uA)},11977:(e,t,r)=>{r.d(t,{m:()=>a});r(52675),r(89463),r(2259),r(45700),r(23792),r(89572),r(2892),r(26099),r(99449),r(47764),r(62953);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var a=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.allowLogging="localhost"===location.hostname||"127.0.0.1"===location.hostname||location.hostname.endsWith(".peek.digitpaint.nl")},(t=[{key:"log",value:function(e){this.allowLogging&&console.log(e)}},{key:"info",value:function(e){this.allowLogging&&console.info(e)}},{key:"warn",value:function(e){this.allowLogging&&console.warn(e)}},{key:"error",value:function(e){this.allowLogging&&console.error(e)}}])&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}())},83851:(e,t,r)=>{var n=r(46518),i=r(79039),o=r(25397),a=r(77347).f,u=r(43724);n({target:"Object",stat:!0,forced:!u||i((function(){a(1)})),sham:!u},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},81278:(e,t,r)=>{var n=r(46518),i=r(43724),o=r(35031),a=r(25397),u=r(77347),l=r(97040);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=a(e),i=u.f,c=o(n),s={},p=0;c.length>p;)void 0!==(r=i(n,t=c[p++]))&&l(s,t,r);return s}})},99449:(e,t,r)=>{var n,i=r(46518),o=r(27476),a=r(77347).f,u=r(18014),l=r(655),c=r(60511),s=r(67750),p=r(41436),f=r(96395),y=o("".endsWith),d=o("".slice),h=Math.min,b=p("endsWith");i({target:"String",proto:!0,forced:!!(f||b||(n=a(String.prototype,"endsWith"),!n||n.writable))&&!b},{endsWith:function(e){var t=l(s(this));c(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:h(u(r),n),o=l(e);return y?y(t,o,i):d(t,i-o.length,i)===o}})}}]);