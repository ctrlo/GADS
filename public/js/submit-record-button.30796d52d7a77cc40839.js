"use strict";(self.webpackChunklinkspace=self.webpackChunklinkspace||[]).push([[956],{35871:(e,t,d)=>{d.r(t),d.d(t,{default:()=>SubmitRecordButton});var r=d(56197),i=d(74692);class SubmitRecordButton{constructor(e){this.el=e,this.requiredHiddenRecordDependentFieldsCleared=!1,this.canSubmitRecordForm=!1,this.disableButton=!1,this.el.on("click",(async e=>{const t=i(e.target).closest("button"),d=t.closest("form"),s=d.find(".form-group[data-has-dependency='1'][style*='display: none'] *[aria-required]"),n=t.closest(".modal-body");if(this.requiredHiddenRecordDependentFieldsCleared||(e.preventDefault(),s.removeAttr("required"),this.requiredHiddenRecordDependentFieldsCleared=!0),!this.canSubmitRecordForm){e.preventDefault();(0,r.Rv)(d)?(this.canSubmitRecordForm=!0,this.disableButton=!1,n.hasClass("modal-body")?d.trigger("submit"):t.trigger("click"),this.disableButton=!0,t.prop("disabled",!0),t.prop("name")&&t.after(`<input type="hidden" name="${t.prop("name")}" value="${t.val()}" />`)):(s.attr("required",""),this.requiredHiddenRecordDependentFieldsCleared=!1)}this.disableButton&&t.prop("disabled",this.requiredHiddenRecordDependentFieldsCleared)}))}}}}]);